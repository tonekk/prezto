uname -a | grep w0rkb0x >/dev/null
DEVELOPMENT_SERVER=$?

# Needed on some systems
export LANG=en_US.UTF-8

# Adding extra stuff to path
export PATH=$HOME/.bin:$HOME/bin:/usr/local/bin:$PATH

# Aliases
alias t="tmux"
alias doc="docker-compose"

alias dotfiles="cd ~/etc && ls"
alias zconf="vim ~/etc/zprezto/runcoms/zshrc"
alias reload="source ~/.zshrc"
alias vimconf="vim ~/etc/vim/vimrc"

alias enc='openssl enc -aes-256-cbc -in "$@"'
alias dec='openssl enc -d -aes-256-cbc -in "$@"'

# Common typos
alias gist="git st ."

# vim <3
export EDITOR="vim"
export VISUAL="vim"

# z - jump around
. $HOME/etc/z/z.sh

# Enable Prezto
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

# Use <C-j> instead of <C-c> to terminate apps
# because I use the former to copy text ;)
stty intr \^j

# Instant tmux session creat0r
if [[ -z ${TMUX+x} ]] && [[ $DEVELOPMENT_SERVER -eq 0 ]]; then
  tmux attach -t seatris 2>/dev/null || \
    tmux \
      new-session -s seatris -c /home/tonekk/seatris-server 'docker-compose logs -f' \; \
      split-window -h 'vim' \; \
      resize-pane -L 15 \;
fi
